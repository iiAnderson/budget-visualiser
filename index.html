<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Budget Visualisation</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/4.4.0/font/octicons.css">
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3-drag.v1.min.js"></script>
    <script src="https://d3js.org/d3-zoom.v1.min.js"></script>
    <script src="ProcessData.js"></script>
    <script src="main.js"></script>
    <script src="BubbleChart.js"></script>
    <script src="PieChart.js"></script>
    <script src="ScatterGraph.js"></script>
    <link rel="stylesheet" href="index.css">
</head>
<body>


<div class="row wrapper">

    <!-- Sidebar Holder -->
    <div class="col-sm-2 col-sm-2-push sidebar">

        <ul class="list-unstyled components">
            <li id="control-elem" class="active">
                <!--Control Submenu-->
                <a href="#controlsubmenu" data-toggle="collapse" aria-expanded="false">
                    <i class="octicon octicon-gear"></i>
                    Control
                </a>
                <ul class="collapse list-unstyled" id="controlsubmenu">
                    <li>
                        <p class="sidebar-control-header">Group Data</p>
                        <div class="text-center">
                            <div id="toolbar" class="btn-group flex-wrap" role="group" style="text-align: center">
                                <button id="all" type="button" class="btn btn-secondary">No Grouping</button>
                                <button id="budgetstate" class="btn btn-secondary">Budget State</button>
                            </div>
                        </div>
                    </li>
                    <li>
                        <p class="sidebar-control-header">Cost Measure</p>
                        <div class="text-center">
                            <div id="costMeasure" class="btn-group flex-wrap" role="group" style="text-align: center">
                                <button id="dollar" type="button" class="btn btn-secondary">Dollar ($)</button>
                                <button id="time" class="btn btn-secondary">Time (Work Days)</button>
                            </div>
                        </div>
                    </li>
                </ul>
            </li>

            <!--Node List Subelement-->
            <li id="node-elem" class="active">
                <a href="#node-list" data-toggle="collapse" aria-expanded="false">
                    <i class="octicon octicon-git-commit"></i>
                    List Nodes
                </a>
                <ul id="node-list" class="collapse node-list">
                </ul>
            </li>
        </ul>

    </div>

    <!-- Main Visualisation -->
    <div id="content" class="col-sm-8 offset-sm-2">
        <div style="width: 100%;padding: 20px">
            <nav class="navbar navbar-default">
                <div class="container-fluid">

                    <div class="card-block" style="width: 100%;">
                        <h4 id="circle-vis-title" class="card-title"></h4>
                        <p id="reset" class="reset-btn"><i class="btn btn-secondary octicon octicon-sync"></i></p>
                        <p id="info" class="reset-btn"><i class="btn btn-secondary octicon octicon-info"></i></p>
                        <div id="vis" class="border-vis">
                        </div>
                    </div>
                </div>

            </nav>
        </div>

        <!--Secondary Visualisation and backing div-->
        <div style="background: #7386D5;width: 100%;padding: 20px">
            <nav class="navbar navbar-default" style="width:100%;">
                <div class="container-fluid">

                    <div class="card-block" style="width: 100%;">
                        <h4 id="secondary-vis-title" class="card-title">Graph Title</h4>
                        <div id="secondary-graph">
                        </div>
                    </div>
                </div>

            </nav>

        </div>
    </div>

    <!--Legend-->
    <div class="col-sm-1 col-sm-1-pull" style="padding-top: 50px;">
        <div class="navbar legend text-center" style="width: 85px;">
            <h4 style="font-size: 20px;"><b>Legend</b></h4>
            <p style="font-size: 14px;">Budget Variance:</p>
            <div class="dot greaterTwenty"><p class="box"><-20%</p></div>
            <div class="dot twenty"><p class="box">-20%</p></div>
            <div class="dot ten"><p class="box">-10%</p></div>
            <div class="dot zero"><p class="box">0%</p></div>
            <div class="dot minusTen"><p class="box">10%</p></div>
            <div class="dot minusTwenty"><p class="box">20%</p></div>
            <div class="dot minusLessTwenty"><p class="box">>20%</p></div>
        </div>
    </div>

    <div id="descPopup" class="modal-popup">

        <!-- Modal content -->
        <div class="modal-popup-content">
            <span id="closePopup" class="close">&times;</span>
            <h4>Welcome to Department Budget Visualisations</h4>
            <p>This visualisation is aimed to allow managers to explore the data in a clear and understandable environment.</p>

            <h4>Who is the Visualisation for?</h4>

            <p>This visualisation is designed for governmental managers to get a overview of the budget data to see which departments/investments/projects
            are on budget and which need improvement. To do this, each node in the bubble chart is sized by its total cost, and colored according to its
            state in terms of its budget (under budget/over budget). Different chart types are also employed to maximise the ease of comparison between nodes.
            This will allow managers to quickly look at the data and clearly see certain problem areas
            which need to be addressed without requiring many hours of data analysis.
            </p>

            <h4>What does the Visualisation show?</h4>

            <p>The Visualisation shows the breakdown of the US governmental budget, initially breaking down the budget into
            money spent by departments. To see further data on a specific department, a user can click on one of the interactive
            node elements (described below), which will display the investments made for that department, sized by total cost. These nodes
            can then be clicked again to see the projects relating to that investment, along with costings for each project.</p>

            <h4>How is this achieved?</h4>

            <p>This is achieved through several interactive mechanisms, designed for ease of use:</p>

            <p>The Sidebar contains a set of controls, which allow grouping of the data and altering the cost metric used to create the visualisations.
            The Sidebar also contains a list of the nodes displayed in the visualisations, which can be highlighted by hovering over, and clicked on
            to narrow down the data in the visualisation.</p>

            <p>The Main Visualisation allows a user to quickly see which projects are over/under budget through the use of the legend. It also allows
            easy navigation/filtering of the data through clicking on a specific circle, which narrows down the visualisation to that subset of data, allowing
            overbudget projects/investments to be easily identified.
            This visualisation can also be zoomed in/out for ease of viewing.</p>

            <p>The Secondary Visualisation allows a user to quickly compare the nodes against eachother and against the planned budget for the selected
            cost metric.</p>

            <p>As the sidebar and the two visualisations are connected, any changes made (such as clicking on a department) will alter all aspects of
            the visualisation, this also includes highlighting nodes and hovering over to provide tooltips.</p>
        </div>

    </div>

</div>
</body>
</html>
